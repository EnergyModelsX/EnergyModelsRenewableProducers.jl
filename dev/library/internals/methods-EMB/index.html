<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Methods - EnergyModelsBase Â· EnergyModelsRenewableProducers</title><meta name="title" content="Methods - EnergyModelsBase Â· EnergyModelsRenewableProducers"/><meta property="og:title" content="Methods - EnergyModelsBase Â· EnergyModelsRenewableProducers"/><meta property="twitter:title" content="Methods - EnergyModelsBase Â· EnergyModelsRenewableProducers"/><meta name="description" content="Documentation for EnergyModelsRenewableProducers."/><meta property="og:description" content="Documentation for EnergyModelsRenewableProducers."/><meta property="twitter:description" content="Documentation for EnergyModelsRenewableProducers."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">EnergyModelsRenewableProducers</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../../manual/quick-start/">Quick Start</a></li><li><a class="tocitem" href="../../../manual/simple-example/">Examples</a></li><li><a class="tocitem" href="../../../manual/NEWS/">Release notes</a></li></ul></li><li><span class="tocitem">Nodes</span><ul><li><a class="tocitem" href="../../../nodes/nondisres/">Non-dispatchable RES</a></li><li><a class="tocitem" href="../../../nodes/hydropower/">Simple Hydropower</a></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Detailed hydropower</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../nodes/det_hydropower/description/">Detailed hydropower</a></li><li><a class="tocitem" href="../../../nodes/det_hydropower/reservoir/">Hydro reservoir node</a></li><li><a class="tocitem" href="../../../nodes/det_hydropower/generator/">Hydro generator node</a></li><li><a class="tocitem" href="../../../nodes/det_hydropower/pump/">Hydro pump node</a></li><li><a class="tocitem" href="../../../nodes/det_hydropower/gate/">Hydro gate node</a></li></ul></li><li><a class="tocitem" href="../../../nodes/battery/">Battery</a></li></ul></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../../how-to/update-models/">Update models</a></li><li><a class="tocitem" href="../../../how-to/contribute/">Contribute to EnergyModelsRenewableProducers</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../../public/">Public</a></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox" checked/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../types-EMRP/">Types</a></li><li><a class="tocitem" href="../methods-fields/">Methods - Accessing fields</a></li><li><a class="tocitem" href="../methods-EMRP/">Methods - Internal</a></li><li class="is-active"><a class="tocitem" href>Methods - <code>EnergyModelsBase</code></a><ul class="internal"><li><a class="tocitem" href="#lib-int-met_emb-idx"><span>Index</span></a></li><li><a class="tocitem" href="#lib-int-met_emb-ext"><span>Extension methods</span></a></li><li><a class="tocitem" href="#lib-int-met_emb-con"><span>Constraint methods</span></a></li><li><a class="tocitem" href="#lib-int-met_emb-check"><span>Check methods</span></a></li><li><a class="tocitem" href="#lib-int-met_emb-field"><span>Field extraction methods</span></a></li></ul></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li><a class="is-disabled">Internals</a></li><li class="is-active"><a href>Methods - <code>EnergyModelsBase</code></a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Methods - <code>EnergyModelsBase</code></a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ï‚›</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/main/docs/src/library/internals/methods-EMB.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ï„</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="lib-int-met_emb"><a class="docs-heading-anchor" href="#lib-int-met_emb">Methods - <code>EnergyModelsBase</code></a><a id="lib-int-met_emb-1"></a><a class="docs-heading-anchor-permalink" href="#lib-int-met_emb" title="Permalink"></a></h1><h2 id="lib-int-met_emb-idx"><a class="docs-heading-anchor" href="#lib-int-met_emb-idx">Index</a><a id="lib-int-met_emb-idx-1"></a><a class="docs-heading-anchor-permalink" href="#lib-int-met_emb-idx" title="Permalink"></a></h2><ul><li><a href="#EnergyModelsBase.capacity"><code>EnergyModelsBase.capacity</code></a></li><li><a href="#EnergyModelsBase.check_node"><code>EnergyModelsBase.check_node</code></a></li><li><a href="#EnergyModelsBase.check_node_data"><code>EnergyModelsBase.check_node_data</code></a></li><li><a href="#EnergyModelsBase.constraints_capacity"><code>EnergyModelsBase.constraints_capacity</code></a></li><li><a href="#EnergyModelsBase.constraints_flow_in"><code>EnergyModelsBase.constraints_flow_in</code></a></li><li><a href="#EnergyModelsBase.constraints_flow_out"><code>EnergyModelsBase.constraints_flow_out</code></a></li><li><a href="#EnergyModelsBase.constraints_level_aux"><code>EnergyModelsBase.constraints_level_aux</code></a></li><li><a href="#EnergyModelsBase.constraints_opex_fixed"><code>EnergyModelsBase.constraints_opex_fixed</code></a></li><li><a href="#EnergyModelsBase.constraints_opex_var"><code>EnergyModelsBase.constraints_opex_var</code></a></li><li><a href="#EnergyModelsBase.create_node"><code>EnergyModelsBase.create_node</code></a></li><li><a href="#EnergyModelsBase.inputs"><code>EnergyModelsBase.inputs</code></a></li><li><a href="#EnergyModelsBase.level"><code>EnergyModelsBase.level</code></a></li><li><a href="#EnergyModelsBase.outputs"><code>EnergyModelsBase.outputs</code></a></li><li><a href="#EnergyModelsBase.variables_node"><code>EnergyModelsBase.variables_node</code></a></li></ul><h2 id="lib-int-met_emb-ext"><a class="docs-heading-anchor" href="#lib-int-met_emb-ext">Extension methods</a><a id="lib-int-met_emb-ext-1"></a><a class="docs-heading-anchor-permalink" href="#lib-int-met_emb-ext" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.variables_node" href="#EnergyModelsBase.variables_node"><code>EnergyModelsBase.variables_node</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EMB.variables_node(m, ğ’©â¿áµˆÊ³::Vector{&lt;:AbstractNonDisRES}, ğ’¯, modeltype::EnergyModel)</code></pre><p>Create the optimization variable <code>:curtailment</code> for every <a href="../../public/#EnergyModelsRenewableProducers.AbstractNonDisRES"><code>AbstractNonDisRES</code></a> node. This method is called from <code>EnergyModelsBase.jl</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/model.jl#L2-L7">source</a></section><section><div><pre><code class="language-julia hljs">EMB.variables_node(m, ğ’©::Vector{&lt;:HydroStorage}, ğ’¯, modeltype::EnergyModel)</code></pre><p>Create the optimization variable <code>:hydro_spill</code> for every HydroStorage node. This variable enables hydro storage nodes to spill water from the reservoir without producing energy. Wihtout this slack variable, parameters with too much inflow would else lead to an infeasible model. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/model.jl#L12-L18">source</a></section><section><div><pre><code class="language-julia hljs">EMB.variables_node(m, ğ’©::Vector{HydroGate}, ğ’¯, modeltype::EnergyModel)</code></pre><p>Creates the following additional variables for <strong>ALL</strong> <a href="../../public/#EnergyModelsRenewableProducers.HydroGate"><code>HydroGate</code></a> nodes that have additional constraints through <a href="../../public/#EnergyModelsRenewableProducers.ScheduleConstraint"><code>ScheduleConstraint</code></a>:</p><ul><li><code>gate_penalty_up[n, t, p]</code> is the <em>up</em> penalty variable of hydro gate <code>n</code> in operational period <code>t</code> for resource <code>p</code>.</li><li><code>gate_penalty_down[n, t, p]</code> is the <em>down</em> penalty variable of hydro gate <code>n</code> in operational period <code>t</code> for resource <code>p</code>.</li></ul><p>These variables enable <code>HydroGate</code> nodes to penalize a violation of the discharge constraint instead of providing a strict upper bound. They hence transform the constraint to a soft constraint. Without these penalty variables, too strict discharge restrictions may cause an infeasible model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/model.jl#L63-L77">source</a></section><section><div><pre><code class="language-julia hljs">EMB.variables_node(m, ğ’©::Vector{HydroReservoir{T}}, ğ’¯, modeltype::EnergyModel) where {T &lt;: EMB.StorageBehavior}</code></pre><p>Creates the following additional variables for <strong>ALL</strong> <a href="../../public/#EnergyModelsRenewableProducers.HydroReservoir"><code>HydroReservoir</code></a> nodes that have additional constraints through <a href="../../public/#EnergyModelsRenewableProducers.ScheduleConstraint"><code>ScheduleConstraint</code></a>:</p><ul><li><code>rsv_penalty_up[n, t, p]</code> is the <em>up</em> penalty variable of hydro reservoir <code>n</code> in operational period <code>t</code> for resource <code>p</code>.</li><li><code>rsv_penalty_down[n, t, p]</code> is the <em>down</em> penalty variable of hydro reservoir <code>n</code> in operational period <code>t</code> for resource <code>p</code>.</li></ul><p>These variables enable <code>HydroReservoir</code> nodes to penalize a violation of the volume constraint instead of providing a strict bound. They hence transform the constraint to a soft constraint. Without these penalty variables, too strict volume restrictions may cause an infeasible model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/model.jl#L94-L108">source</a></section><section><div><pre><code class="language-julia hljs">EMB.variables_node(m, ğ’©::Vector{:&lt;HydroUnit}, ğ’¯, modeltype::EnergyModel)</code></pre><p>Creates the following additional variables for <strong>ALL</strong> <a href="../types-EMRP/#EnergyModelsRenewableProducers.HydroUnit"><code>HydroUnit</code></a> nodes that have additional constraints through <a href="../../public/#EnergyModelsRenewableProducers.ScheduleConstraint"><code>ScheduleConstraint</code></a>:</p><ul><li><code>gen_penalty_up[n, t, p]</code> is the <em>up</em> penalty variable of hydro unit <code>n</code> in operational period <code>t</code> for resource <code>p</code>.</li><li><code>rsv_penalty_down[n, t, p]</code> is the <em>down</em> penalty variable of hydro unit <code>n</code> in operational period <code>t</code> for resource <code>p</code>.</li><li><code>discharge_segment[n, t, q]</code> is the discharge segment variable of hydro unit <code>n</code> in operational period <code>t</code> for discharge segment <code>q</code> The capacity of the <code>discharge_segment</code>s sums up to the total discharge capacity.</li></ul><p>The first two variables enable <code>HydroUnit</code> nodes to penalize a violation of the generation/pumping constraints instead of providing a strict bound. They hence transform the constraint to a soft constraint. Without these penalty variables, too strict generation/pumping constraints may cause an infeasible model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/model.jl#L128-L145">source</a></section><section><div><pre><code class="language-julia hljs">EMB.variables_node(m, ğ’©::Vector{&lt;:AbstractBattery}, ğ’¯, modeltype::EnergyModel)</code></pre><p>Declaration of reserve variables for all <a href="../../public/#EnergyModelsRenewableProducers.AbstractBattery"><code>AbstractBattery</code></a> nodes. The following reserve variables are declared:</p><ul><li><code>bat_prev_use[n, t]</code> is the accumulated charge effect of an <code>AbstractBattery</code> up to operational period <code>t</code>.</li><li><code>bat_prev_use_sp[n, t_inv]</code> is the accumulated charge effect of an <code>AbstractBattery</code> up to investment period <code>t_inv</code>.</li><li><code>bat_use_sp[n, t_inv]</code> is the accummulated charge effect of an <code>AbstractBattery</code> in investment period <code>t_inv</code>.</li><li><code>bat_use_rp[n, t_rp]</code> is the accummulated charge effect of an <code>AbstractBattery</code> in representative period <code>t_rp</code>. It is only declared if the <code>TimeStructure</code> includes <code>RepresentativePeriods</code>.</li><li><code>bat_stack_replace_b[n, t_inv]</code> is a binary variable for identification of battery battery stack replacement. Stack replacement occurs before the first operational period of a strategic period. It is only declared for batterys which utilize an <a href="../types-EMRP/#EnergyModelsRenewableProducers.AbstractBatteryLife"><code>AbstractBatteryLife</code></a> that includes degradation.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/model.jl#L169-L188">source</a></section><section><div><pre><code class="language-julia hljs">EMB.variables_node(m, ğ’©::Vector{&lt;:ReserveBattery}, ğ’¯, modeltype::EnergyModel)</code></pre><p>Declaration of reserve variables for <a href="../../public/#EnergyModelsRenewableProducers.ReserveBattery"><code>ReserveBattery</code></a> nodes. The following reserve variables are declared:</p><ul><li><code>bat_res_up[n, t]</code> is the upwards reserve of battery storage <code>n</code> in operational period <code>t</code>.</li><li><code>bat_res_down[n, t]</code> is the upwards reserve of battery of storage <code>n</code> in operational period <code>t</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/model.jl#L205-L214">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.create_node" href="#EnergyModelsBase.create_node"><code>EnergyModelsBase.create_node</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EMB.create_node(m, n::HydroStorage, ğ’¯, ğ’«, modeltype::EnergyModel)</code></pre><p>Sets all constraints for the regulated hydro storage node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/model.jl#L23-L27">source</a></section><section><div><pre><code class="language-julia hljs">EMB.create_node(m, n::AbstractBattery, ğ’¯, ğ’«, modeltype::EnergyModel)</code></pre><p>Set all constraints for a <code>AbstractBattery</code>. Can serve as fallback option for all unspecified subtypes of <code>AbstractBattery</code>. It differs from the function for a standard <code>Storage</code> node through calling the constraint function <a href="../methods-EMRP/#EnergyModelsRenewableProducers.constraints_usage"><code>constraints_usage</code></a> for calculating the cycles of the node.</p><p><strong>Called constraint functions</strong></p><ul><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/functions/#EnergyModelsBase.constraints_level"><code>constraints_level</code></a>,</li><li><a href="../methods-EMRP/#EnergyModelsRenewableProducers.constraints_usage"><code>constraints_usage</code></a>,</li><li><a href="../methods-EMRP/#EnergyModelsRenewableProducers.constraints_reserve"><code>constraints_reserve</code></a>,</li><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/functions/#EnergyModelsBase.constraints_data"><code>constraints_data</code></a> for all <code>node_data(n)</code>,</li><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/functions/#EnergyModelsBase.constraints_flow_in"><code>constraints_flow_in</code></a>,</li><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/functions/#EnergyModelsBase.constraints_flow_out"><code>constraints_flow_out</code></a>,</li><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/functions/#EnergyModelsBase.constraints_capacity"><code>constraints_capacity</code></a>,</li><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/functions/#EnergyModelsBase.constraints_opex_fixed"><code>constraints_opex_fixed</code></a>, and</li><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/functions/#EnergyModelsBase.constraints_opex_var"><code>constraints_opex_var</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/model.jl#L221-L239">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.level" href="#EnergyModelsBase.level"><code>EnergyModelsBase.level</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">level(n::HydroReservoir)
level(n::HydroReservoir, t)</code></pre><p>Returns the <code>vol</code> parameter field of the HydroReservoir <code>n</code> either as <code>TimeProfile</code> or in operational period <code>t</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/datastructures.jl#L505-L511">source</a></section></article><h2 id="lib-int-met_emb-con"><a class="docs-heading-anchor" href="#lib-int-met_emb-con">Constraint methods</a><a id="lib-int-met_emb-con-1"></a><a class="docs-heading-anchor-permalink" href="#lib-int-met_emb-con" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_capacity" href="#EnergyModelsBase.constraints_capacity"><code>EnergyModelsBase.constraints_capacity</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constraints_capacity(m, n::AbstractNonDisRES, ğ’¯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the maximum capacity of a <code>AbstractNonDisRES</code>. Also sets the constraint defining curtailment.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/constraint_functions.jl#L3-L8">source</a></section><section><div><pre><code class="language-julia hljs">constraints_capacity(m, n::AbstractBattery, ğ’¯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the maximum capacity of an <a href="../../public/#EnergyModelsRenewableProducers.AbstractBattery"><code>AbstractBattery</code></a>.</p><p>Its function flow is changed from the standard approach through calling the function <a href="../methods-EMRP/#EnergyModelsRenewableProducers.capacity_reduction"><code>capacity_reduction</code></a> to identify the reduced storage capacity, depending on the chosen <a href="../types-EMRP/#EnergyModelsRenewableProducers.AbstractBatteryLife"><code>AbstractBatteryLife</code></a> type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/constraint_functions.jl#L25-L33">source</a></section><section><div><pre><code class="language-julia hljs">EMB.constraints_capacity(m, n::HydroUnit, ğ’¯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Function for creating the constraints on the maximum capacity of a <a href="../types-EMRP/#EnergyModelsRenewableProducers.HydroUnit"><code>HydroUnit</code></a> node. It differs from the base functions through incorporating the PQ Curve through the function <a href="../methods-fields/#EnergyModelsRenewableProducers.max_normalized_power"><code>max_normalized_power</code></a></p><p>Furthermore, the function <a href="../methods-EMRP/#EnergyModelsRenewableProducers.build_pq_constaints"><code>build_pq_constaints</code></a> is called for creating additional constraints on the capacity utilization.</p><div class="admonition is-warning"><header class="admonition-header">Dispatching on this function</header><div class="admonition-body"><p>If you create a new method for this function, it is crucial to call within said function the function <code>constraints_capacity_installed(m, n, ğ’¯, modeltype)</code> if you want to include investment options.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/constraint_functions.jl#L737-L751">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_flow_in" href="#EnergyModelsBase.constraints_flow_in"><code>EnergyModelsBase.constraints_flow_in</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constraints_flow_in(m, n::HydroStor, ğ’¯::TimeStructure, modeltype::EnergyModel)</code></pre><p>When <code>n::HydroStor</code>, the variable <code>:flow_in</code> is fixed to 0 for all potential inputs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/constraint_functions.jl#L89-L93">source</a></section><section><div><pre><code class="language-julia hljs">constraints_flow_in(m, n::PumpedHydroStor, ğ’¯::TimeStructure, modeltype::EnergyModel)</code></pre><p>When <code>n::PumpedHydroStor</code>, the variable <code>:flow_in</code> is multiplied with the <code>inputs</code> value to calculate the variable <code>:stor_charge_use</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/constraint_functions.jl#L107-L112">source</a></section><section><div><pre><code class="language-julia hljs">EMB.constraints_flow_in(m, n::HydroGenerator, ğ’¯::TimeStructure, modeltype::EnergyModel)
EMB.constraints_flow_in(m, n::HydroPump, ğ’¯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Method for creating the constraint on the inlet flow of a node <code>n</code>.</p><div class="admonition is-success"><header class="admonition-header">`HydroGenerator`</header><div class="admonition-body"><p>The constraints enforce that the water inlet flow is equal to the outlet flow at each operational period <code>t</code>, and hence, preserve conservation of mass.</p></div></div><div class="admonition is-info"><header class="admonition-header">`HydroPump`</header><div class="admonition-body"><p>The electricity flow to the unit is equal to the capacity utilization The flow of the inlet resources can be constrained through calling the function <a href="../methods-EMRP/#EnergyModelsRenewableProducers.build_schedule_constraint"><code>build_schedule_constraint</code></a>.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/constraint_functions.jl#L789-L802">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_flow_out" href="#EnergyModelsBase.constraints_flow_out"><code>EnergyModelsBase.constraints_flow_out</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constraints_flow_out(m, n::ReserveBattery, ğ’¯::TimeStructure, modeltype::EnergyModel)</code></pre><p>When <code>n::ReserveBattery</code>, the variable <code>:flow_out</code> is also declared for the different reserve resources as identified through the functions <a href="../methods-fields/#EnergyModelsRenewableProducers.reserve_up"><code>reserve_up</code></a> and <a href="../methods-fields/#EnergyModelsRenewableProducers.reserve_down"><code>reserve_down</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/constraint_functions.jl#L123-L129">source</a></section><section><div><pre><code class="language-julia hljs">EMB.constraints_flow_out(m, n::HydroGate, ğ’¯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the outlet flow from a <code>HydroGate</code>. This function implements the schedule and min/max constraints if present.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/constraint_functions.jl#L718-L723">source</a></section><section><div><pre><code class="language-julia hljs">EMB.constraints_flow_out(m, n::HydroGenerator, ğ’¯::TimeStructure, modeltype::EnergyModel)
EMB.constraints_flow_out(m, n::HydroPump, ğ’¯::TimeStructure, modeltype::EnergyModel)</code></pre><p>Method for creating the constraint on the oulet flow of a node <code>n</code>.</p><div class="admonition is-success"><header class="admonition-header">`HydroGenerator`</header><div class="admonition-body"><ul><li>The electricity flow from the unit is equal to the capacity utilization.</li><li>The flow of the inlet resources can be constrained through calling the function <a href="../methods-EMRP/#EnergyModelsRenewableProducers.build_schedule_constraint"><code>build_schedule_constraint</code></a>.</li></ul></div></div><div class="admonition is-info"><header class="admonition-header">`HydroPump`</header><div class="admonition-body"><ul><li>The constraints enforce that the water outlet flow is equal to the inlet flow at each operational period <code>t</code>, and hence, preserve conservation of mass.</li></ul></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/constraint_functions.jl#L820-L833">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_level_aux" href="#EnergyModelsBase.constraints_level_aux"><code>EnergyModelsBase.constraints_level_aux</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constraints_level_aux(m, n::HydroStorage, ğ’¯, ğ’«, modeltype)</code></pre><p>Function for creating the Î” constraint for the level of a <code>HydroStorage</code> node as well as the specification of the initial level in a strategic period.</p><p>The change in storage level in the reservoir at operational periods <code>t</code> is the inflow through <code>:level_inflow</code> plus the input <code>:stor_charge_use</code> minus the production <code>:stor_discharge_use</code> and the spillage of water due to overflow <code>:hydro_spill</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/constraint_functions.jl#L150-L159">source</a></section><section><div><pre><code class="language-julia hljs">constraints_level_aux(m, n::AbstractBattery, ğ’¯, ğ’«, modeltype::EnergyModel)</code></pre><p>Function for creating the Î” constraint for the level of an <a href="../../public/#EnergyModelsRenewableProducers.AbstractBattery"><code>AbstractBattery</code></a> node utilizing the efficiencies declared in inputs and outputs of the storage resource.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/constraint_functions.jl#L185-L190">source</a></section><section><div><pre><code class="language-julia hljs">EMB.constraints_level_aux(m, n::HydroReservoir, ğ’¯, ğ’«, modeltype::EnergyModel)</code></pre><p>Create the Î” constraint for the level of the <a href="../../public/#EnergyModelsRenewableProducers.HydroReservoir"><code>HydroReservoir</code></a> node. The change in storage level in the reservoir at operational periods <code>t</code> is the flow into the reservoir through the variable <code>stor_charge_use</code> and inflow (through the function <code>vol_inflow</code>) minus the flow out of the reservoir through the variable <code>stor_discharge_use</code>.</p><p>In addition, it creates the volume constraints if data is provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/constraint_functions.jl#L490-L499">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_opex_var" href="#EnergyModelsBase.constraints_opex_var"><code>EnergyModelsBase.constraints_opex_var</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EMB.constraints_opex_var(m, n::HydroResevoir{T}, ğ’¯á´µâ¿áµ›, modeltype::EnergyModel)
EMB.constraints_opex_var(m, n::HydroGate, ğ’¯á´µâ¿áµ›, modeltype::EnergyModel)
EMB.constraints_opex_var(m, n::HydroUnit, ğ’¯á´µâ¿áµ›, modeltype::EnergyModel)</code></pre><p>Method for creating the constraint on the variable OPEX. The individual methods extend the functions of <code>EnergyModelsBase</code> through incorporating the penalty term for constraint violation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/constraint_functions.jl#L515-L523">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_opex_fixed" href="#EnergyModelsBase.constraints_opex_fixed"><code>EnergyModelsBase.constraints_opex_fixed</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constraints_opex_fixed(m, n::AbstractBattery, ğ’¯á´µâ¿áµ›, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the fixed OPEX of a generic <a href="../../public/#EnergyModelsRenewableProducers.AbstractBattery"><code>AbstractBattery</code></a>.</p><p>The functions nodes includes fixed OPEX for <code>charge</code>, <code>level</code>, and <code>discharge</code> if the node has the corresponding storage parameter. The individual contributions are in all situations calculated based on the installed capacities.</p><p>In addition, battery stack replacement is included if the <code>battery_life</code> has a limited cycle lifetime. The division by duration<em>strat(t</em>inv) for the battery stack replacement is required due to the multiplication with the duration in the objective function calculation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/constraint_functions.jl#L398-L410">source</a></section></article><h2 id="lib-int-met_emb-check"><a class="docs-heading-anchor" href="#lib-int-met_emb-check">Check methods</a><a id="lib-int-met_emb-check-1"></a><a class="docs-heading-anchor-permalink" href="#lib-int-met_emb-check" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.check_node" href="#EnergyModelsBase.check_node"><code>EnergyModelsBase.check_node</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EMB.check_node(n::NonDisRES, ğ’¯, modeltype::EnergyModel, check_timeprofiles::Bool)</code></pre><p>This method checks that the <em><a href="../../public/#EnergyModelsRenewableProducers.NonDisRES"><code>NonDisRES</code></a></em> node is valid.</p><p>It reuses the standard checks of a <code>Source</code> node through calling the function <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/internals/functions/#EnergyModelsBase.check_node_default"><code>EMB.check_node_default</code></a>, but adds an additional check on the data.</p><p><strong>Checks</strong></p><ul><li>The field <code>cap</code> is required to be non-negative (similar to the <code>Source</code> check).</li><li>The value of the field <code>fixed_opex</code> is required to be non-negative and accessible through a <code>StrategicPeriod</code> as outlined in the function <code>check_fixed_opex(n, ğ’¯á´µâ¿áµ›, check_timeprofiles)</code>.</li><li>The values of the dictionary <code>output</code> are required to be non-negative (similar to the <code>Source</code> check).</li><li>The field <code>profile</code> is required to be in the range <span>$[0, 1]$</span> for all time steps <span>$t âˆˆ \mathcal{T}$</span>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/checks.jl#L1-L19">source</a></section><section><div><pre><code class="language-julia hljs">EMB.check_node(n::HydroStorage, ğ’¯, modeltype::EnergyModel, check_timeprofiles::Bool)</code></pre><p>This method checks that the <em><a href="../../public/#EnergyModelsRenewableProducers.HydroStorage"><code>HydroStorage</code></a></em> node is valid.</p><p>It reuses the standard checks of a <code>Storage</code> node through calling the function <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/internals/functions/#EnergyModelsBase.check_node_default"><code>EMB.check_node_default</code></a>, but adds an additional check on the data.</p><p><strong>Checks</strong></p><ul><li>The <code>TimeProfile</code> of the field <code>capacity</code> in the type in the field <code>charge</code> is required to be non-negative if the chosen composite type has the field <code>capacity</code>.</li><li>The <code>TimeProfile</code> of the field <code>capacity</code> in the type in the field <code>level</code> is required to be non-negative`.</li><li>The <code>TimeProfile</code> of the field <code>capacity</code> in the type in the field <code>discharge</code> is required to be non-negative if the chosen composite type has the field <code>capacity</code>.</li><li>The <code>TimeProfile</code> of the field <code>fixed_opex</code> is required to be non-negative and accessible through a <code>StrategicPeriod</code> as outlined in the function <code>check_fixed_opex(n, ğ’¯á´µâ¿áµ›, check_timeprofiles)</code> for the chosen composite type .</li><li>The field <code>output</code> can only include a single <code>Resource</code>.</li><li>The value of the field <code>output</code> is required to be in the range <span>$[0, 1]$</span>.</li><li>The value of the field <code>input</code> is required to be in the range <span>$[0, 1]$</span>.</li><li>The value of the field <code>level_init</code> is required to be in the range  <span>$[level\_min, 1] \cdot stor\_cap(t)$</span> for all time steps <span>$t âˆˆ \mathcal{T}$</span>.</li><li>The value of the field <code>level_init</code> is required to be in the range <span>$[0, 1]$</span>.</li><li>The value of the field <code>level_min</code> is required to be in the range <span>$[0, 1]$</span>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/checks.jl#L32-L58">source</a></section><section><div><pre><code class="language-julia hljs">EMB.check_node(n::HydroReservoir, ğ’¯, modeltype::EnergyModel, check_timeprofiles::Bool)</code></pre><p>This method checks that the <a href="../../public/#EnergyModelsRenewableProducers.HydroReservoir"><code>HydroReservoir</code></a> node is valid.</p><p><strong>Checks</strong></p><ul><li>The <code>TimeProfile</code> of the <code>capacity</code> of the <code>HydroReservoir</code> <code>level</code> is required to be non-negative.</li><li>The <code>TimeProfile</code> of the field <code>fixed_opex</code> is required to be non-negative and accessible through a <code>StrategicPeriod</code> as outlined in the function function <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/internals/functions/#EnergyModelsBase.check_fixed_opex"><code>EMB.check_fixed_opex()</code></a> for the field <code>level</code>, if included.</li><li>The <code>TimeProfile</code> of the <code>vol_inflow</code> of the <code>HydroReservoir</code> is required to be non-negative.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/checks.jl#L103-L117">source</a></section><section><div><pre><code class="language-julia hljs">EMB.check_node(n::HydroGate, ğ’¯, modeltype::EnergyModel, check_timeprofiles::Bool)</code></pre><p>This method checks that the <em><a href="../../public/#EnergyModelsRenewableProducers.HydroGate"><code>HydroGate</code></a></em> node is valid.</p><p><strong>Checks</strong></p><ul><li>The field <code>cap</code> is required to be non-negative.</li><li>The value of the field <code>fixed_opex</code> is required to be non-negative and accessible through</li></ul><p>a <code>StrategicPeriod</code> as outlined in the function <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/internals/functions/#EnergyModelsBase.check_fixed_opex"><code>EMB.check_fixed_opex()</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/checks.jl#L137-L145">source</a></section><section><div><pre><code class="language-julia hljs">EMB.check_node(n::HydroUnit, ğ’¯, modeltype::EnergyModel, check_timeprofiles::Bool)</code></pre><p>This method checks that the <a href="../../public/#EnergyModelsRenewableProducers.HydroGenerator"><code>HydroGenerator</code></a> and <a href="../../public/#EnergyModelsRenewableProducers.HydroPump"><code>HydroPump</code></a> nodes are valid.</p><p><strong>Checks</strong></p><ul><li>The field <code>cap</code> is required to be non-negative.</li><li>The <a href="../../public/#EnergyModelsRenewableProducers.PqPoints"><code>PqPoints</code></a> vectors are required to have the same length.</li><li>The <a href="../../public/#EnergyModelsRenewableProducers.PqPoints"><code>PqPoints</code></a> vectors should start at 0.</li><li>The <a href="../../public/#EnergyModelsRenewableProducers.PqPoints"><code>PqPoints</code></a> vectors are required to be increasing.</li><li>One of the <a href="../../public/#EnergyModelsRenewableProducers.PqPoints"><code>PqPoints</code></a> vectors should have values between 0 and 1.</li><li>The <a href="../../public/#EnergyModelsRenewableProducers.PqPoints"><code>PqPoints</code></a> curve should be concave for generators and convex for pumps.</li><li>The value of the field <code>fixed_opex</code> is required to be non-negative and accessible through a <code>StrategicPeriod</code> as outlined in the function <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/internals/functions/#EnergyModelsBase.check_fixed_opex"><code>EMB.check_fixed_opex()</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/checks.jl#L155-L169">source</a></section><section><div><pre><code class="language-julia hljs">EMB.check_node(n::AbstractBattery, ğ’¯, modeltype::EnergyModel, check_timeprofiles::Bool)</code></pre><p>This method checks that the <em><a href="../../public/#EnergyModelsRenewableProducers.AbstractBattery"><code>AbstractBattery</code></a></em> node is valid.</p><p>It reuses the standard checks of a <code>Storage</code> node through calling the function <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/internals/functions/#EnergyModelsBase.check_node_default"><code>EMB.check_node_default</code></a>, but adds an additional check on the data.</p><p><strong>Checks</strong></p><ul><li>The <code>TimeProfile</code> of the field <code>capacity</code> in the type in the field <code>charge</code> is required to be non-negative.</li><li>The <code>TimeProfile</code> of the field <code>capacity</code> in the type in the field <code>level</code> is required to be non-negative`.</li><li>The <code>TimeProfile</code> of the field <code>capacity</code> in the type in the field <code>discharge</code> is required to be non-negative.</li><li>The <code>TimeProfile</code> of the field <code>fixed_opex</code> is required to be non-negative and accessible through a <code>StrategicPeriod</code> as outlined in the function <code>check_fixed_opex(n, ğ’¯á´µâ¿áµ›, check_timeprofiles)</code> for the chosen composite type .</li><li>The field <code>output</code> can only include a single <code>Resource</code>.</li><li>The value of the field <code>input</code> is required to be in the range <span>$[0, 1]$</span>.</li><li>The value of the field <code>output</code> is required to be in the range <span>$[0, 1]$</span></li><li>The <a href="../types-EMRP/#EnergyModelsRenewableProducers.AbstractBatteryLife"><code>AbstractBatteryLife</code></a> must follow the provided values as outlined in the function <a href="../methods-EMRP/#EnergyModelsRenewableProducers.check_battery_life"><code>check_battery_life</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/checks.jl#L262-L286">source</a></section><section><div><pre><code class="language-julia hljs">EMB.check_node(n::ReserveBattery, ğ’¯, modeltype::EnergyModel, check_timeprofiles::Bool)</code></pre><p>This method checks that the <em><a href="../../public/#EnergyModelsRenewableProducers.ReserveBattery"><code>ReserveBattery</code></a></em> node is valid.</p><p>It reuses the standard checks of a <code>Storage</code> node through calling the function <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/internals/functions/#EnergyModelsBase.check_node_default"><code>EMB.check_node_default</code></a>, but adds an additional check on the data.</p><p><strong>Checks</strong></p><ul><li>The <code>TimeProfile</code> of the field <code>capacity</code> in the type in the field <code>charge</code> is required to be non-negative.</li><li>The <code>TimeProfile</code> of the field <code>capacity</code> in the type in the field <code>level</code> is required to be non-negative`.</li><li>The <code>TimeProfile</code> of the field <code>capacity</code> in the type in the field <code>discharge</code> is required to be non-negative.</li><li>The <code>TimeProfile</code> of the field <code>fixed_opex</code> is required to be non-negative and accessible through a <code>StrategicPeriod</code> as outlined in the function <code>check_fixed_opex(n, ğ’¯á´µâ¿áµ›, check_timeprofiles)</code> for the chosen composite type .</li><li>The field <code>output</code> can only include a single <code>Resource</code>.</li><li>The value of the field <code>input</code> is required to be in the range <span>$[0, 1]$</span>.</li><li>The value of the field <code>output</code> is required to be in the range <span>$[0, 1]$</span></li><li>The resources in the array <code>reserve_up</code> cannot be part of the resources in the dictionaries dictionaries <code>input</code> and <code>output</code>.</li><li>The resources in the array <code>reserve_down</code> cannot be part of the resources in the dictionaries <code>input</code> and <code>output</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/checks.jl#L300-L326">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.check_node_data" href="#EnergyModelsBase.check_node_data"><code>EnergyModelsBase.check_node_data</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EMB.check_node_data(n::EMB.Node, data::ScheduleConstraint, ğ’¯, modeltype::EnergyModel, check_timeprofiles::Bool)</code></pre><p>Performs various checks on <a href="../../public/#EnergyModelsRenewableProducers.ScheduleConstraint"><code>ScheduleConstraint</code></a> data for all nodes.</p><p><strong>Checks</strong></p><ul><li>The the field <code>resource</code> is required to be a valid resource of the node.</li><li>The value of constraints are required to be in the range <span>$[0, 1]$</span> for all time steps <span>$t âˆˆ \mathcal{T}$</span>.</li><li>The penalty of constraints are required to be non-negative for all time steps <span>$t âˆˆ \mathcal{T}$</span>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/checks.jl#L226-L237">source</a></section></article><h2 id="lib-int-met_emb-field"><a class="docs-heading-anchor" href="#lib-int-met_emb-field">Field extraction methods</a><a id="lib-int-met_emb-field-1"></a><a class="docs-heading-anchor-permalink" href="#lib-int-met_emb-field" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.capacity" href="#EnergyModelsBase.capacity"><code>EnergyModelsBase.capacity</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">capacity(n::HydroUnit, t, p::Resource)
capacity(n::HydroGate, t, p::Resource)</code></pre><p>Returns the capacity of HydroUnit <code>n</code> in operational period <code>t</code> for a given resource <code>p</code>. In the case of a <code>HydroGate</code>, this function reverts to <code>capacity(n, t)</code> to allow its application in multiple methods.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>The resource <code>p</code> <strong>must</strong> be either the <code>electricity_resource</code> or <code>water_resource</code>. Otherwise, an error is raised.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/datastructures.jl#L852-L863">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.inputs" href="#EnergyModelsBase.inputs"><code>EnergyModelsBase.inputs</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">inputs(n::HydroReservoir)
inputs(n::HydroReservoir, p::Resource)</code></pre><p>Returns the input resources of a HydroReservoir <code>n</code>, specified <em>via</em> the field <code>stor_res</code>.</p><p>If the resource <code>p</code> is specified, it returns a value of 1. This behaviour should in theory not occur.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/datastructures.jl#L481-L489">source</a></section><section><div><pre><code class="language-julia hljs">inputs(n::HydroGate)
inputs(n::HydroGate, p::Resource)</code></pre><p>Returns the input resources of a HydroGate <code>n</code>, specified <em>via</em> the field <code>resource</code>.</p><p>If the resource <code>p</code> is specified, it returns a value of 1. This behaviour should in theory not occur.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/datastructures.jl#L563-L571">source</a></section><section><div><pre><code class="language-julia hljs">inputs(n::HydroGenerator)
inputs(n::HydroGenerator, p::Resource)</code></pre><p>Returns the input resources of a HydroGenerator <code>n</code>, specified <em>via</em> the field <code>water_resource</code>.</p><p>If the resource <code>p</code> is specified, it returns a value of 1. This behaviour should in theory not occur.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/datastructures.jl#L726-L735">source</a></section><section><div><pre><code class="language-julia hljs">inputs(n::HydroPump)
inputs(n::HydroPump, p::Resource)</code></pre><p>Returns the input resources of a HydroPump <code>n</code>, specified <em>via</em> the fields <code>water_resource</code> and <code>electricity_resource</code>.</p><p>If the resource <code>p</code> is specified, it returns a value of 1. This behaviour should in theory not occur.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/datastructures.jl#L795-L804">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.outputs" href="#EnergyModelsBase.outputs"><code>EnergyModelsBase.outputs</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">outputs(n::HydroReservoir)
outputs(n::HydroReservoir, p::Resource)</code></pre><p>Returns the output resources of a HydroReservoir <code>n</code>, specified <em>via</em> the field <code>stor_res</code>.</p><p>If the resource <code>p</code> is specified, it returns a value of 1. This behaviour should in theory not occur.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/datastructures.jl#L493-L501">source</a></section><section><div><pre><code class="language-julia hljs">outputs(n::HydroGate)
outputs(n::HydroGate, p::Resource)</code></pre><p>Returns the output resources of a HydroGate <code>n</code>, specified <em>via</em> the field <code>resource</code>.</p><p>If the resource <code>p</code> is specified, it returns a value of 1. This behaviour should in theory not occur.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/datastructures.jl#L575-L583">source</a></section><section><div><pre><code class="language-julia hljs">outputs(n::HydroGenerator)
outputs(n::HydroGenerator, p::Resource)</code></pre><p>Returns the output resources of a HydroGenerator <code>n</code>, specified <em>via</em> the fields <code>water_resource</code> and <code>electricity_resource</code>.</p><p>If the resource <code>p</code> is specified, it returns a value of 1. This behaviour should in theory not occur.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/datastructures.jl#L739-L748">source</a></section><section><div><pre><code class="language-julia hljs">outputs(n::HydroPump)
outputs(n::HydroPump, p::Resource)</code></pre><p>Returns the output resources of a HydroPump <code>n</code>, specified <em>via</em> the field <code>water_resource</code>.</p><p>If the resource <code>p</code> is specified, it returns a value of 1. This behaviour should in theory not occur.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/datastructures.jl#L808-L816">source</a></section><section><div><pre><code class="language-julia hljs">EMB.outputs(n::ReserveBattery)
EMB.outputs(n::ReserveBattery, p::Resource)</code></pre><p>When the node is an <a href="../../public/#EnergyModelsRenewableProducers.ReserveBattery"><code>ReserveBattery</code></a>, it returns both the output and reserve resources.</p><p>If the resource <code>p</code> is specified, it returns the value if the resource is in the output dictionary. Otherwise, it returns a value of 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/040e6d1415ec08b18c7067acc4e3defb0ada4053/src/datastructures.jl#L1072-L1081">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../methods-EMRP/">Â« Methods - Internal</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Friday 29 November 2024 13:34">Friday 29 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
