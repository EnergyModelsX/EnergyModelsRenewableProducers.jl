<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Internals ¬∑ EnergyModelsRenewableProducers</title><meta name="title" content="Internals ¬∑ EnergyModelsRenewableProducers"/><meta property="og:title" content="Internals ¬∑ EnergyModelsRenewableProducers"/><meta property="twitter:title" content="Internals ¬∑ EnergyModelsRenewableProducers"/><meta name="description" content="Documentation for EnergyModelsRenewableProducers."/><meta property="og:description" content="Documentation for EnergyModelsRenewableProducers."/><meta property="twitter:description" content="Documentation for EnergyModelsRenewableProducers."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">EnergyModelsRenewableProducers</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../manual/quick-start/">Quick Start</a></li><li><a class="tocitem" href="../../manual/optimization-variables/">Optimization variables</a></li><li><a class="tocitem" href="../../manual/constraint-functions/">Constraint functions</a></li><li><a class="tocitem" href="../../manual/simple-example/">Examples</a></li><li><a class="tocitem" href="../../manual/NEWS/">Release notes</a></li></ul></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../how-to/update-models/">Update models</a></li><li><a class="tocitem" href="../../how-to/contribute/">Contribute to EnergyModelsRenewableProducers</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../public/">Public</a></li><li class="is-active"><a class="tocitem" href>Internals</a><ul class="internal"><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Methods"><span>Methods</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li class="is-active"><a href>Internals</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Internals</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/main/docs/src/library/internals.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Internals"><a class="docs-heading-anchor" href="#Internals">Internals</a><a id="Internals-1"></a><a class="docs-heading-anchor-permalink" href="#Internals" title="Permalink"></a></h1><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><h2 id="Methods"><a class="docs-heading-anchor" href="#Methods">Methods</a><a id="Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Methods" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.check_node-Tuple{HydroStorage, Any, EnergyModel, Bool}" href="#EnergyModelsBase.check_node-Tuple{HydroStorage, Any, EnergyModel, Bool}"><code>EnergyModelsBase.check_node</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">EMB.check_node(n::HydroStorage, ùíØ, modeltype::EMB.EnergyModel, check_timeprofiles::Bool)</code></pre><p>This method checks that the <em><a href="../public/#HydroStorage_public"><code>HydroStorage</code></a></em> node is valid.</p><p><strong>Checks</strong></p><ul><li>The <code>TimeProfile</code> of the field <code>capacity</code> in the type in the field <code>charge</code> is required to be non-negative if the chosen composite type has the field <code>capacity</code>.</li><li>The <code>TimeProfile</code> of the field <code>capacity</code> in the type in the field <code>level</code> is required to be non-negative`.</li><li>The <code>TimeProfile</code> of the field <code>capacity</code> in the type in the field <code>discharge</code> is required to be non-negative if the chosen composite type has the field <code>capacity</code>.</li><li>The <code>TimeProfile</code> of the field <code>fixed_opex</code> is required to be non-negative and accessible through a <code>StrategicPeriod</code> as outlined in the function <code>check_fixed_opex(n, ùíØ·¥µ‚Åø·µõ, check_timeprofiles)</code> for the chosen composite type .</li><li>The field <code>output</code> can only include a single <code>Resource</code>.</li><li>The value of the field <code>output</code> is required to be smaller or equal to 1.</li><li>The value of the field <code>input</code> is required to be in the range <span>$[0, 1]$</span>.</li><li>The value of the field <code>level_init</code> is required to be in the range  <span>$[level\_min, 1] \cdot stor\_cap(t)$</span> for all time steps <span>$t ‚àà \mathcal{T}$</span>.</li><li>The value of the field <code>level_init</code> is required to be in the range <span>$[0, 1]$</span>.</li><li>The value of the field <code>level_min</code> is required to be in the range <span>$[0, 1]$</span>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/86cbc7ccc0f355b2196dbdc2a2bf9c320d08693b/src/checks.jl#L39-L61">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.check_node-Tuple{NonDisRES, Any, EnergyModel, Bool}" href="#EnergyModelsBase.check_node-Tuple{NonDisRES, Any, EnergyModel, Bool}"><code>EnergyModelsBase.check_node</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">EMB.check_node(n::NonDisRES, ùíØ, modeltype::EMB.EnergyModel, check_timeprofiles::Bool)</code></pre><p>This method checks that the <em><a href="../public/#NonDisRES_public"><code>NonDisRES</code></a></em> node is valid.</p><p><strong>Checks</strong></p><ul><li>The field <code>cap</code> is required to be non-negative (similar to the <code>Source</code> check).</li><li>The value of the field <code>fixed_opex</code> is required to be non-negative and accessible through a <code>StrategicPeriod</code> as outlined in the function <code>check_fixed_opex(n, ùíØ·¥µ‚Åø·µõ, check_timeprofiles)</code>.</li><li>The values of the dictionary <code>output</code> are required to be non-negative (similar to the <code>Source</code> check).</li><li>The field <code>profile</code> is required to be in the range <span>$[0, 1]$</span> for all time steps <span>$t ‚àà \mathcal{T}$</span>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/86cbc7ccc0f355b2196dbdc2a2bf9c320d08693b/src/checks.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_capacity-Tuple{Any, NonDisRES, TimeStruct.TimeStructure, EnergyModel}" href="#EnergyModelsBase.constraints_capacity-Tuple{Any, NonDisRES, TimeStruct.TimeStructure, EnergyModel}"><code>EnergyModelsBase.constraints_capacity</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">constraints_capacity(m, n::NonDisRES, ùíØ::TimeStructure, modeltype::EnergyModel)</code></pre><p>Function for creating the constraint on the maximum capacity of a <code>NonDisRES</code>. Also sets the constraint defining curtailment.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/86cbc7ccc0f355b2196dbdc2a2bf9c320d08693b/src/constraint_functions.jl#L3-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_flow_in-Tuple{Any, HydroStor, TimeStruct.TimeStructure, EnergyModel}" href="#EnergyModelsBase.constraints_flow_in-Tuple{Any, HydroStor, TimeStruct.TimeStructure, EnergyModel}"><code>EnergyModelsBase.constraints_flow_in</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">constraints_flow_in(m, n::HydroStor, ùíØ::TimeStructure, modeltype::EnergyModel)</code></pre><p>When <code>n::HydroStor</code>, the the variable <code>:flow_in</code> is fixed to 0 for all potential inputs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/86cbc7ccc0f355b2196dbdc2a2bf9c320d08693b/src/constraint_functions.jl#L25-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_flow_in-Tuple{Any, PumpedHydroStor, TimeStruct.TimeStructure, EnergyModel}" href="#EnergyModelsBase.constraints_flow_in-Tuple{Any, PumpedHydroStor, TimeStruct.TimeStructure, EnergyModel}"><code>EnergyModelsBase.constraints_flow_in</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">constraints_flow_in(m, n, ùíØ::TimeStructure, modeltype::EnergyModel)</code></pre><p>When <code>n::PumpedHydroStor</code>, the the variable <code>:flow_in</code> is used contrary to standard nodes, that is the variable <code>:flow_in</code> is multiplied with the <code>inputs</code> value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/86cbc7ccc0f355b2196dbdc2a2bf9c320d08693b/src/constraint_functions.jl#L40-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.constraints_level_aux-Tuple{Any, HydroStorage, Any, Any, EnergyModel}" href="#EnergyModelsBase.constraints_level_aux-Tuple{Any, HydroStorage, Any, Any, EnergyModel}"><code>EnergyModelsBase.constraints_level_aux</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">EMB.constraints_level_aux(m, n::HydroStorage, ùíØ, ùí´, modeltype)</code></pre><p>Function for creating the Œî constraint for the level of a <code>HydroStorage</code> node as well as the specification of the initial level in a strategic period.</p><p>The change in storage level in the reservoir at operational periods <code>t</code> is the inflow through <code>level_inflow</code> plus the input <code>flow_in</code> minus the production <code>stor_rate_use</code> and the spillage of water due to overflow <code>hydro_spill</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/86cbc7ccc0f355b2196dbdc2a2bf9c320d08693b/src/constraint_functions.jl#L56-L65">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.create_node-Tuple{Any, HydroStorage, Any, Any, EnergyModel}" href="#EnergyModelsBase.create_node-Tuple{Any, HydroStorage, Any, Any, EnergyModel}"><code>EnergyModelsBase.create_node</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">EMB.create_node(m, n::HydroStorage, ùíØ, ùí´, modeltype::EnergyModel)</code></pre><p>Sets all constraints for the regulated hydro storage node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/86cbc7ccc0f355b2196dbdc2a2bf9c320d08693b/src/model.jl#L25-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.variables_node-Tuple{Any, Vector{&lt;:HydroStorage}, Any, EnergyModel}" href="#EnergyModelsBase.variables_node-Tuple{Any, Vector{&lt;:HydroStorage}, Any, EnergyModel}"><code>EnergyModelsBase.variables_node</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">EMB.variables_node(m, ùí©::Vector{&lt;:HydroStorage}, ùíØ, modeltype::EnergyModel)</code></pre><p>Create the optimization variable <code>:hydro_spill</code> for every HydroStorage node. This variable enables hydro storage nodes to spill water from the reservoir without producing energy. Wihtout this slack variable, parameters with too much inflow would else lead to an infeasible model. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/86cbc7ccc0f355b2196dbdc2a2bf9c320d08693b/src/model.jl#L14-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsBase.variables_node-Tuple{Any, Vector{NonDisRES}, Any, EnergyModel}" href="#EnergyModelsBase.variables_node-Tuple{Any, Vector{NonDisRES}, Any, EnergyModel}"><code>EnergyModelsBase.variables_node</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">EMB.variables_node(m, ùí©‚Åø·µà ≥::Vector{NonDisRES}, ùíØ, modeltype::EnergyModel)</code></pre><p>Create the optimization variable <code>:curtailment</code> for every NonDisRES node. This method is called from <code>EnergyModelsBase.jl</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/86cbc7ccc0f355b2196dbdc2a2bf9c320d08693b/src/model.jl#L2-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRenewableProducers.level_inflow-Tuple{HydroStorage, Any}" href="#EnergyModelsRenewableProducers.level_inflow-Tuple{HydroStorage, Any}"><code>EnergyModelsRenewableProducers.level_inflow</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">level_inflow(n::HydroStorage, t)</code></pre><p>Returns the inflow to a node <code>n</code> of type <code>HydroStorage</code> at operational period <code>t</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/86cbc7ccc0f355b2196dbdc2a2bf9c320d08693b/src/datastructures.jl#L246-L250">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRenewableProducers.level_init-Tuple{HydroStorage, Any}" href="#EnergyModelsRenewableProducers.level_init-Tuple{HydroStorage, Any}"><code>EnergyModelsRenewableProducers.level_init</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">level_init(n::HydroStorage, t)</code></pre><p>Returns the innitial level of a node <code>n</code> of type <code>HydroStorage</code> at operational period <code>t</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/86cbc7ccc0f355b2196dbdc2a2bf9c320d08693b/src/datastructures.jl#L239-L243">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRenewableProducers.level_min-Tuple{HydroStorage, Any}" href="#EnergyModelsRenewableProducers.level_min-Tuple{HydroStorage, Any}"><code>EnergyModelsRenewableProducers.level_min</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">level_min(n::HydroStorage, t)</code></pre><p>Returns the minimum level of a node <code>n</code> of type <code>HydroStorage</code> at operational period <code>t</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/86cbc7ccc0f355b2196dbdc2a2bf9c320d08693b/src/datastructures.jl#L253-L257">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRenewableProducers.opex_var_pump-Tuple{PumpedHydroStor, Any}" href="#EnergyModelsRenewableProducers.opex_var_pump-Tuple{PumpedHydroStor, Any}"><code>EnergyModelsRenewableProducers.opex_var_pump</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">opex_var_pump(n::PumpedHydroStor, t)</code></pre><p>Returns the variable OPEX of a node <code>n</code> of type <code>PumpedHydroStor</code> related to pumping at operational period <code>t</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/86cbc7ccc0f355b2196dbdc2a2bf9c320d08693b/src/datastructures.jl#L260-L265">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRenewableProducers.profile-Tuple{NonDisRES, Any}" href="#EnergyModelsRenewableProducers.profile-Tuple{NonDisRES, Any}"><code>EnergyModelsRenewableProducers.profile</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">profile(n::NonDisRES, t)</code></pre><p>Returns the profile of a node <code>n</code> of type <code>NonDisRES</code> at operational period <code>t</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRenewableProducers.jl/blob/86cbc7ccc0f355b2196dbdc2a2bf9c320d08693b/src/datastructures.jl#L232-L236">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../public/">¬´ Public</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Tuesday 28 May 2024 08:08">Tuesday 28 May 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
